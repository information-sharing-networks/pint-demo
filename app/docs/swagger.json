{
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "swagger": "2.0",
    "info": {
        "description": "pint-server is an implemenation of the DCSA v3 PINT API for receiving eBL envelope transfers\n\n## Common Error Responses\nAll endpoints may return:\n- `413` Request body exceeds size limit\n- `429` Rate limit exceeded\n- `500` Internal server error\n\nIndividual endpoints document their specific business logic errors.\n\n## Request Limits\nAll endpoints are protected by:\n- **Rate limiting**: Configurable requests per second (see env vars) - default 100 rps (set to 0 to disable)\n- **Request size limits**: Configurable (see env vars) - default 1MB\n\nCheck the X-Max-Request-Body response header for the configured limit on signals payload.\n\nThe rate limit is set globaly and prevents abuse of the service.\nIn production there may be additional protections in place such as per-IP rate limiting provided by the load balancer/reverse proxy.\n\n## Authentication \u0026 Authorization\n\nThe pint-demo PINT APIs do not require credentials to be sent with the request.\nParticipating platforms are authenticated via JWS signatures -\nrequests must be signed with a key registered in the platform registry. Unrecognized keys are rejected.\n\nIn a production system, OAuth 2.0 service accounts may be used to provide additional authentication and authorization capabilities,\ne.g where external clients need to initiate a transfer on behalf of a user.\n",
        "title": "pint-server",
        "contact": {},
        "license": {
            "name": "MIT"
        }
    },
    "paths": {
        "/.well-known/jwks.json": {
            "get": {
                "description": "Returns the JWK set for the platform.\n\nUse this endpoint to retrieve the public key needed to verify signatures from this platform.\n\nThe JWK set in the response conforms to the [JWK specification](https://datatracker.ietf.org/doc/html/rfc7517).\n\nNote: this service supports Ed25519 and RSA public keys so you should expect to see either of these key types in the returned JWK set.",
                "tags": [
                    "Common"
                ],
                "summary": "Get JWK set",
                "responses": {
                    "200": {
                        "description": "JWK set",
                        "schema": {
                            "$ref": "#/definitions/handlers.JWKSResponse"
                        }
                    }
                }
            }
        },
        "/admin/parties": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Admin"
                ],
                "summary": "Create a new party",
                "parameters": [
                    {
                        "description": "Party details",
                        "name": "party",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/parties/": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Admin"
                ],
                "summary": "Get party by party code",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Code list provider",
                        "name": "codeListProvider",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Code list name (optional)",
                        "name": "codeListName",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Party code",
                        "name": "partyCode",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Party not found",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/parties/{partyID}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Admin"
                ],
                "summary": "Get party by ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Party ID",
                        "name": "partyID",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid party ID",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Party not found",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Admin"
                ],
                "summary": "Update an existing party",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Party ID",
                        "name": "partyID",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Party details",
                        "name": "party",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Party not found",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/parties/{partyID}/codes": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Admin"
                ],
                "summary": "Add an identifying code to a party",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Party ID",
                        "name": "partyID",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Code details",
                        "name": "code",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyIdentifyingCodeRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyIdentifyingCodeResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/parties/{partyName}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Admin"
                ],
                "summary": "Get party by party name",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Party name",
                        "name": "partyName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.PartyResponse"
                        }
                    },
                    "404": {
                        "description": "Party not found",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/health/live": {
            "get": {
                "description": "Check if the HTTP service is alive and responding.",
                "produces": [
                    "text/plain"
                ],
                "tags": [
                    "Common"
                ],
                "summary": "Health (liveness) Check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/ready": {
            "get": {
                "description": "Checks if the service is ready to accept traffic (includes database connectivity)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Common"
                ],
                "summary": "Readiness Check",
                "responses": {
                    "200": {
                        "description": "status ready",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "503": {
                        "description": "status not ready",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/v3/envelopes": {
            "post": {
                "description": "Initiates an eBL envelope transfer. The sender provides the transport document (eBL),\nsigned envelope manifest, and complete transfer chain.\n\nThe receiving platform validates signatures, checksums, and transfer chain integrity.\n\n**Success Responses:**\n\n`201 Created` - Transfer started but not yet accepted (unsigned JSON response)\n- The envelope transfer is now active\n- Additional documents listed in the EnvelopeManifest are required\n- Sender must transfer documents, then call \"Finish envelope transfer\" endpoint\n- Only at finish will the transfer be accepted or rejected with a signed response\n\nRetry handling - if the sender attempts to start a transfer for an eBL that already has an active transfer,\nthe receiver assumes the sender has lost track of the state of the transfer.\nIn this case, the request is treated as a retry and the existing envelope\nreference and current missing documents are returned with HTTP 201.\n\n`200 OK` - Transfer accepted immediately (with signed response)\n- No additional documents required, or receiver already has all documents\n- The response body contains a JWS (JSON Web Signature) token, where\nthe payload contains the response details.\n\nThe payload includes the `responseCode`: `RECE` (accepted) or `DUPE` (duplicate).\n`DUPE` means this transfer was previously received and accepted - in this case the response\nalso includes the last accepted transfer chain entry\n`duplicateOfAcceptedEnvelopeTransferChainEntrySignedContent` which the sender can use\nto confirm which transfer was accepted.\n\n**Error Responses**\n\n`422 Unprocessable Entity` indicates the platform has rejected the transfer.\nThe response body contains a JWS token with `responseCode` of `BSIG` (signature failure)\nor `BENV` (envelope validation failure). Details of the error are in the payload of the JWS.\n\n**Trust Level Failures**\n\nThis platform enforces a minimum trust level for signatures,\nbased on the x5c header in the envelope manifest JWS.\n- Trust level 1 is the lowest trust level, and means that a JWS\nwill be accepted even if no x5c header is present.\n- Trust level 2 means the JWS must contain a valid certificate,\n(Domain Validation (DV) certificates are allowed).\n- Trust level 3 is the highest trust level, and means that the JWS must contain a valid Extended Validation (EV)\nor Organization Validation (OV) certificate.\n\nThe trust level is checked after signature verification, and a valid JWS with an insufficient trust\nlevel will return a `422 Unprocessable Entity` (BSIG) response.\n\nNote that if an x5c cert is included, it must be signed by a trusted root CA and the\npublic key in the certificate must match the key used to sign the JWS.\n\n**Unsigned Error Responses**\n\nThe only time you get an unsigned error response is when the request is malformed or the\nreceiving platform is having technical difficulties.\n\n`400 Bad Request` indicates a malformed request (invalid JSON, missing required fields, etc.)\n\n`500 Internal Server Error` errors indicate temporary technical issues.\nThe sender should retry until they receive a signed response.\n\n**Notes**\n\nIMPORTANT: Unsigned responses cannot be verified as originating from the receiving platform\n(they may come from middleware or infrastructure). Therefore:\n- Do not assume an unsigned error means the transfer was rejected.\n- Only determine transfer acceptance/rejection from signed responses.\n\nThe sending platform must not rely on the HTTP response status code alone as it is not covered by the signature.\nWhen there is a mismatch between the HTTP response status code\nand the `responseCode` in the signed response, the `responseCode` takes precedence.",
                "tags": [
                    "PINT"
                ],
                "summary": "Start envelope transfer",
                "parameters": [
                    {
                        "description": "eBL envelope containing transport document, signed manifest, and transfer chain - see the schema ebl.EnvelopeManifest definition for details of the expected structure in the signed field",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/ebl.EblEnvelope"
                        }
                    },
                    {
                        "description": "documentation only (not used directly)",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/ebl.EnvelopeManifest"
                        }
                    },
                    {
                        "description": "documentation only (not used directly)",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/ebl.EnvelopeTransferChainEntry"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Signed response - Transfer accepted immediately (RECE or DUPE) - see the 'default' response for details of the response payload",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "201": {
                        "description": "Transfer started but not yet accepted",
                        "schema": {
                            "$ref": "#/definitions/pint.EnvelopeTransferStartedResponse"
                        }
                    },
                    "400": {
                        "description": "Malformed request",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    },
                    "422": {
                        "description": "Signed response - Signature or validation failed (BSIG/BENV) - see the 'default' response for details of the response payload",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal error processing request",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    },
                    "default": {
                        "description": "documentation only (not returned directly) - decoded payload of the signed response",
                        "schema": {
                            "$ref": "#/definitions/pint.EnvelopeTransferFinishedResponse"
                        }
                    }
                }
            }
        },
        "/v3/envelopes/{envelopeReference}/additional-documents/{documentChecksum}": {
            "put": {
                "description": "Transfer an additional document (supporting document or eBL visualisation) associated with an eBL envelope transfer.\n\nThe receiving platform validates:\n- Document was declared in the EnvelopeManifest.\n- SHA-256 checksum matches the URL parameter.\n- Document size matches the manifest.\n\n**Envelope Reference**\n\nThe envelope reference is a UUID that identifies the eBL envelope transfer (this is returned\nby the start transfer endpoint when the transfer is started)\n\n**Request Body Format**\n\nThe request body is a base64-encoded string containing the document content.\nExample: `UmF3IGNvbnRlbnQgb2YgdGhlIGZpbGU...` (plain base64 string, no JSON structure).\nThe decoded content type is determined by the sending platform based on the media type\ndeclared in the EnvelopeManifest.\n\nIf the sending platform loses track of the transfer state for a document, it can safely\nretry the transfer by resending the same document.\n\nIf the sending platform loses track of which documents have not been received, it can call\nthe PUT /v3/envelopes/{envelopeReference} endpoint again to get the current state.\n\n**Success Response:**\n\n`204 No Content` - This is returned when the document is received successfully,\nor when the document has already been received.\n\n\n**Error Responses (signed):**\n\n`409 Conflict` - Checksum or size mismatch (INCD response code).\n\n`422 Unprocessable Entity` - Envelope rejected (BSIG/BENV response code).\n",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "PINT"
                ],
                "summary": "Transfer additional documents",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Envelope reference (UUID)",
                        "name": "envelopeReference",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "SHA-256 checksum of the document",
                        "name": "documentChecksum",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Base64-encoded document content (plain string, e.g., UmF3IGNvbnRlbnQ...)",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Document received successfully"
                    },
                    "400": {
                        "description": "Malformed request",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Envelope or document not found",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    },
                    "409": {
                        "description": "Checksum/size mismatch (INCD)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "422": {
                        "description": "Envelope rejected (BSIG/BENV)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal error",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v3/envelopes/{envelopeReference}/finish-transfer": {
            "put": {
                "description": "Use this endpoint after you have finished transferring all additional documents.\n\nPrior to accepting envelope transfer, the receiving platform ensures that all supporting documents listed in the envelope manifest have been successfully transferred.\n\n**Success Responses**\n\n`200 OK` - Transfer accepted (RECE)\n\nAll additional documents have been received and the envelope transfer has been accepted on the platform.\n\nThe payload of the signed response contains the last transfer chain entry checksum and a list of all received additional document checksums.\n(See the `default` response for details of the response payload.)\n\n**Retry handling:**\nWhen the sender retries a transfer that has already been accepted, the receiver will return a signed response and\nthe payload will contain a structure identical to the original response, but with a response code of DUPE\nand an extra field: duplicateOfAcceptedEnvelopeTransferChainEntrySignedContent.\n\n**Notes**\n\n**Error Responses (signed)**\n\n`409 Conflict` - Missing documents (MDOC)\n- One or more additional documents are still missing (see missingAdditionalDocumentChecksums in response payload).\n\n`422 Unprocessable Entity` - Envelope rejected (BSIG/BENV) (signed response)\n- BSIG: Signature validation failed.\n- BENV: Envelope validation failed.\n\nSee the `default` response for details of the response payload.\n\n**Error Responses (unsigned)**\n\n`400 Bad Request` - Malformed request - returned as an unsigned error response.\n`500 Internal Server Error` - Internal error - returned as an unsigned error response.\n\n**Note:** Unsigned responses cannot be verified as originating from the receiving platform.\nDo not assume an unsigned error response means the transfer was rejected.\nOnly determine transfer acceptance/rejection from signed responses.\n",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "PINT"
                ],
                "summary": "Finish envelope transfer",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Envelope reference (UUID)",
                        "name": "envelopeReference",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Signed response - Transfer accepted (RECE/DUPE)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "409": {
                        "description": "Signed response - Missing documents (MDOC) or disputed (DISE)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "422": {
                        "description": "Signed response - Envelope rejected (BSIG/BENV)",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal error processing request",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    },
                    "default": {
                        "description": "documentation only (not returned directly) - decoded payload of the signed response",
                        "schema": {
                            "$ref": "#/definitions/pint.EnvelopeTransferFinishedResponse"
                        }
                    }
                }
            }
        },
        "/v3/receiver-validation": {
            "post": {
                "description": "Request the name of a party (legal entity) given a party code. This enables the sending service to\nto check the receiver party exists and is active before sending an eBL (similar to how bank\ntransfers enable users to confirm the receiver's account name before confirming the transfer).\n\nA successful response asserts that the platform will accept an eBL for the account or user\ndenoted by the provided identifying code.\n\nNote the sender can provider more than one identity code for the same party (e.g. both a DID and a LEI for the same company).\nThe receiver platform will reject transfers where these codes resolve to different parties on their system.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "PINT"
                ],
                "summary": "Validate a receiver party",
                "parameters": [
                    {
                        "description": "Party identifying code",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/services.PartyIdentifyingCode"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Party found and active",
                        "schema": {
                            "$ref": "#/definitions/pint.ReceiverValidationResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Party not found or inactive",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal error",
                        "schema": {
                            "$ref": "#/definitions/pint.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/version": {
            "get": {
                "description": "Returns the version and build information for the service\nNote: version information is embedded at build time using ldflags. See build.sh for details.\nReturns placeholders when running from source.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Common"
                ],
                "summary": "Get version information",
                "responses": {
                    "200": {
                        "description": "Version information",
                        "schema": {
                            "$ref": "#/definitions/handlers.VersionResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "ebl.ActorParty": {
            "type": "object",
            "properties": {
                "eblPlatform": {
                    "description": "EblPlatform: The eBL platform code (required) - BOLE, WAVE etc (c.f https://github.com/dcsaorg/DCSA-OpenAPI/tree/master/reference-data)",
                    "type": "string"
                },
                "identifyingCodes": {
                    "description": "IdentifyingCodes: List of identifying codes (at least one required)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ebl.IdentifyingCode"
                    }
                },
                "partyName": {
                    "description": "PartyName: Name of the party (required)",
                    "type": "string"
                },
                "representedParty": {
                    "description": "RepresentedParty: An identifier issued by the eBL Solution Provider, used for auditing purposes to verify that the endorsement chain action has been securely recorded.",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ebl.RepresentedActorParty"
                        }
                    ]
                },
                "taxLegalReferences": {
                    "description": "TaxLegalReferences: List of tax/legal references (optional)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ebl.TaxLegalReference"
                    }
                }
            }
        },
        "ebl.DocumentMetadata": {
            "type": "object",
            "properties": {
                "documentChecksum": {
                    "description": "documentChecksum: SHA-256 checksum of the document",
                    "type": "string"
                },
                "mediaType": {
                    "description": "mediaType: MIME type of the document",
                    "type": "string"
                },
                "name": {
                    "description": "name: The name of the document",
                    "type": "string"
                },
                "size": {
                    "description": "size: The size of the decoded document in bytes (not the Base64 encoded size)",
                    "type": "integer"
                }
            }
        },
        "ebl.EblEnvelope": {
            "type": "object",
            "properties": {
                "envelopeManifestSignedContent": {
                    "description": "EnvelopeManifestSignedContent: JWS compact serialization of the EnvelopeManifest\n(signed by the sending platform).\n\nThe EnvelopeManifest payload is used by the receiver to verify that the transport\ndocument and the transfer chain have not been tampered with and to establish details\nof any supporting documents that will be subsequently transferred by the sender.",
                    "type": "string"
                },
                "envelopeTransferChain": {
                    "description": "EnvelopeTransferChain: Ordered list of JWS tokens representing the complete\ntransfer chain.\n\nEach EnvelopeTransferChainEntry represents a batch of transactions\nthat happened on a single platform and is signed by the sending platform.\n\nThe full chain is required by the receiver to verify the complete history and detect tampering.",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "transportDocument": {
                    "description": "TransportDocument: The transport document (Bill of Lading) as a JSON object.",
                    "type": "object"
                }
            }
        },
        "ebl.EnvelopeManifest": {
            "type": "object",
            "properties": {
                "eBLVisualisationByCarrier": {
                    "description": "EBLVisualisationByCarrier contains metadata for the eBL visualisation (optional).",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ebl.DocumentMetadata"
                        }
                    ]
                },
                "lastEnvelopeTransferChainEntrySignedContentChecksum": {
                    "description": "LastEnvelopeTransferChainEntrySignedContentChecksum is the SHA-256 crypto.Hash of the most recent entry\nin the transfer chain.\nThis binds the manifest to the specific transfer chain it was created for,\npreventing an attacker from replacing the last entry with a valid one from a different transfer.",
                    "type": "string"
                },
                "supportingDocuments": {
                    "description": "SupportingDocuments contains metadata for supporting documents (optional).",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ebl.DocumentMetadata"
                    }
                },
                "transportDocumentChecksum": {
                    "description": "TransportDocumentChecksum is the SHA-256 crypto.Hash of the canonicalized transport document.\nThis is calculated over the canonicalized JSON bytes of the transport document and should never change during the lifetime of the BL.",
                    "type": "string"
                }
            }
        },
        "ebl.EnvelopeTransferChainEntry": {
            "type": "object",
            "properties": {
                "controlTrackingRegistry": {
                    "description": "ControlTrackingRegistry: URI of CTR (optional, only in first entry). Example: https://ctr.dcsa.org/v1",
                    "type": "string"
                },
                "eblPlatform": {
                    "description": "EblPlatform: The eBL platform code (e.g., \"WAVE\", \"BOLE\", \"CARX\") responsible for this entry",
                    "type": "string"
                },
                "issuanceManifestSignedContent": {
                    "description": "IssuanceManifestSignedContent: JWS of IssuanceManifest (required for first entry only)\nThe issuance manifest is created and signed the carrier when the eBL is issued and proves the integrity of the transport document and the issueTo party data.\nIt should not change for the lifetime of the eBL.",
                    "type": "string"
                },
                "previousEnvelopeTransferChainEntrySignedContentChecksum": {
                    "description": "PreviousEnvelopeTransferChainEntrySignedContentChecksum: SHA-256 of previous entry JWS (omitted for first entry)\nthis is the checksum of the previous entry in the transfer chain, and should only be included if this is not the first entry in the transfer chain.\nThis ensures the integrity of the transfer chain.",
                    "type": "string"
                },
                "transactions": {
                    "description": "Transactions: List of transactions (at least one required)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ebl.Transaction"
                    }
                },
                "transportDocumentChecksum": {
                    "description": "TransportDocumentChecksum: SHA-256 of canonicalized transport document JSON\nthis should not change for the lifetime of the eBL.",
                    "type": "string"
                }
            }
        },
        "ebl.IdentifyingCode": {
            "type": "object",
            "properties": {
                "codeListName": {
                    "description": "codeListName: The name of the code list, code generation mechanism or code authority for the partyCode.\nExample values could be: DID (codeListProvider W3C), LEI (codeListProvider GLEIF), DUNS (codeListProvider Dunn and Bradstreet) etc.",
                    "type": "string"
                },
                "codeListProvider": {
                    "description": "CodeListProvider: The provider of the code list (this can be a platform code like \"WAVE\", or a code list provider like \"DCSA\", \"GLEIF\", \"W3C\", \"DNB\")",
                    "type": "string"
                },
                "partyCode": {
                    "description": "PartyCode: Code to identify the party as provided by the code list provider",
                    "type": "string"
                }
            }
        },
        "ebl.RecipientParty": {
            "type": "object",
            "properties": {
                "eblPlatform": {
                    "description": "EblPlatform: The eBL platform code (required)",
                    "type": "string"
                },
                "identifyingCodes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ebl.IdentifyingCode"
                    }
                },
                "partyName": {
                    "description": "PartyName: Name of the party (required)",
                    "type": "string"
                },
                "representedParty": {
                    "description": "RepresentedParty: Party on whose behalf the action was directed (optional)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ebl.RepresentedRecipientParty"
                        }
                    ]
                },
                "taxLegalReferences": {
                    "description": "TaxLegalReferences: List of tax/legal references (optional)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ebl.TaxLegalReference"
                    }
                }
            }
        },
        "ebl.RepresentedActorParty": {
            "type": "object",
            "properties": {
                "identifyingCodes": {
                    "description": "IdentifyingCodes: List of identifying codes (optional)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ebl.IdentifyingCode"
                    }
                },
                "partyName": {
                    "description": "PartyName: Name of the party (required)",
                    "type": "string"
                }
            }
        },
        "ebl.RepresentedRecipientParty": {
            "type": "object",
            "properties": {
                "identifyingCodes": {
                    "description": "IdentifyingCodes: List of identifying codes (optional)",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/ebl.IdentifyingCode"
                    }
                },
                "partyName": {
                    "description": "PartyName: Name of the party (required)",
                    "type": "string"
                }
            }
        },
        "ebl.TaxLegalReference": {
            "type": "object",
            "properties": {
                "countryCode": {
                    "description": "CountryCode: ISO 3166-1 alpha-2 country code",
                    "type": "string"
                },
                "type": {
                    "description": "Type: The reference type code (e.g., \"PAN\", \"EORI\", \"GSTIN\", \"CVR\")",
                    "type": "string"
                },
                "value": {
                    "description": "Value: The actual reference value",
                    "type": "string"
                }
            }
        },
        "ebl.Transaction": {
            "type": "object",
            "properties": {
                "actionCode": {
                    "description": "actionCode: The transaction type (ISSUE, TRANSFER, ENDORSE, SURRENDER_FOR_DELIVERY, etc.)",
                    "type": "string"
                },
                "actionDateTime": {
                    "description": "actionDateTime: RFC3339 timestamp (UTC) when the transaction was created",
                    "type": "string"
                },
                "actor": {
                    "description": "actor: The legal entity (party) performing the action (required)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ebl.ActorParty"
                        }
                    ]
                },
                "auditReference": {
                    "description": "auditReference: Audit identifier from eBL Solution Provider (optional)",
                    "type": "string"
                },
                "comments": {
                    "description": "comments: Free text comment (optional)",
                    "type": "string"
                },
                "reasonCode": {
                    "description": "reasonCode: Reason code for SURRENDER_FOR_AMENDMENT (optional)\nSWTP (Switch to paper)\nCOD (Change of destination)\nSWI (Switch BL)",
                    "type": "string"
                },
                "recipient": {
                    "description": "recipient: The party receiving the action (optional for some action codes like SIGN)",
                    "allOf": [
                        {
                            "$ref": "#/definitions/ebl.RecipientParty"
                        }
                    ]
                }
            }
        },
        "handlers.JWKSResponse": {
            "type": "object",
            "properties": {
                "keys": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "additionalProperties": {}
                    }
                }
            }
        },
        "handlers.PartyIdentifyingCodeRequest": {
            "type": "object",
            "properties": {
                "codeListName": {
                    "type": "string"
                },
                "codeListProvider": {
                    "type": "string"
                },
                "partyCode": {
                    "type": "string"
                }
            }
        },
        "handlers.PartyIdentifyingCodeResponse": {
            "type": "object",
            "properties": {
                "codeListName": {
                    "type": "string"
                },
                "codeListProvider": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "partyCode": {
                    "type": "string"
                },
                "party_id": {
                    "type": "string"
                }
            }
        },
        "handlers.PartyRequest": {
            "type": "object",
            "properties": {
                "active": {
                    "type": "boolean"
                },
                "partyName": {
                    "type": "string"
                }
            }
        },
        "handlers.PartyResponse": {
            "type": "object",
            "properties": {
                "active": {
                    "type": "boolean"
                },
                "id": {
                    "type": "string"
                },
                "partyName": {
                    "type": "string"
                }
            }
        },
        "handlers.VersionResponse": {
            "type": "object",
            "properties": {
                "build_time": {
                    "type": "string",
                    "example": "2024-01-28T10:00:00Z"
                },
                "service": {
                    "type": "string",
                    "example": "pint-server"
                },
                "version": {
                    "type": "string",
                    "example": "1.0.0"
                }
            }
        },
        "pint.DetailedError": {
            "type": "object",
            "properties": {
                "errorCode": {
                    "description": "error code used on the platform: 7000-7999 for technical errors, 8000-8999 for functional errors",
                    "allOf": [
                        {
                            "$ref": "#/definitions/pint.ErrorCode"
                        }
                    ]
                },
                "errorCodeMessage": {
                    "type": "string"
                },
                "errorCodeText": {
                    "type": "string"
                },
                "jsonPath": {
                    "type": "string"
                },
                "property": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "pint.EnvelopeTransferFinishedResponse": {
            "type": "object",
            "properties": {
                "duplicateOfAcceptedEnvelopeTransferChainEntrySignedContent": {
                    "description": "DuplicateOfAcceptedEnvelopeTransferChainEntrySignedContent is the last transfer chain entry\nfrom the previously accepted envelope transfer.\nOnly included when ResponseCode is DUPE.\nThis is a JWS compact serialization token.",
                    "type": "string",
                    "example": "eyJhbGciOiJFZERTQSIsImtpZCI6IjQ0MzkzNDQ5MzQ0OTM0NDkzNDQ5MzQ0OTM0NDkzNDQ5MzQ0OTM0NDkzNDQ5MzQ0OTM0NDkzNDQ5MzQ0OTM0NDkzNDQ5Mz"
                },
                "lastEnvelopeTransferChainEntrySignedContentChecksum": {
                    "description": "LastEnvelopeTransferChainEntrySignedContentChecksum is the SHA-256 checksum of the last\ntransfer chain entry received.",
                    "type": "string",
                    "example": "20a0257b313ae08417e07f6555c4ec829a512c083f3ead16b41158018a22abe9"
                },
                "missingAdditionalDocumentChecksums": {
                    "description": "MissingAdditionalDocumentChecksums lists the checksums of additional documents that\nhave not been received by the receiving platform.",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "583c29ab3e47f2d80899993200d3fbadb9f8a367f3a39f715935c46d7a283006"
                    ]
                },
                "reason": {
                    "description": "Reason is a free text comment clarifying the result or suggesting follow-up actions.\nOmitted when ResponseCode is RECE (no additional information needed).",
                    "type": "string",
                    "example": "jws.Verify(): invalid key type"
                },
                "receivedAdditionalDocumentChecksums": {
                    "description": "ReceivedAdditionalDocumentChecksums confirms all additional documents received during\nthe envelope transfer.\nIncluded with RECE or DUPE ResponseCode to provide a signed receipt.\nThis includes all additional documents (including ones the receiver already had).\nleave as nil when not applicable (eg errors BENV,BSIG).  To return an empty list use []string{}",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "123329ab3e47f2d80899993200d3fbadb9f8a367f3a39f715935c46d7a283006"
                    ]
                },
                "responseCode": {
                    "description": "ResponseCode indicates the result of the envelope transfer.",
                    "allOf": [
                        {
                            "$ref": "#/definitions/pint.ResponseCode"
                        }
                    ],
                    "example": "BSIG"
                }
            }
        },
        "pint.EnvelopeTransferStartedResponse": {
            "type": "object",
            "properties": {
                "envelopeReference": {
                    "description": "EnvelopeReference is the receiver-generated identifier for this envelope transfer.\nUsed in subsequent API calls (PUT additional-documents, PUT finish-transfer).\nThis is a UUID automatically generated by the receiver (see envelopes.id in the database)\nand is a proxy for the last transfer chain entry checksum.",
                    "type": "string",
                    "example": "4TkP5nvgTly0MwFrDxfIkR2rvOjkUIgzibBoKABU"
                },
                "lastEnvelopeTransferChainEntrySignedContentChecksum": {
                    "description": "LastEnvelopeTransferChainEntrySignedContentChecksum is the SHA-256 checksum of the last\ntransfer chain entry received.",
                    "type": "string",
                    "example": "20a0257b313ae08417e07f6555c4ec829a512c083f3ead16b41158018a22abe9"
                },
                "missingAdditionalDocumentChecksums": {
                    "description": "MissingAdditionalDocumentChecksums lists the checksums of additional documents that\nthe receiving platform expects to receive before accepting the envelope transfer.",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "receivedAdditionalDocumentChecksums": {
                    "description": "ReceivedAdditionalDocumentChecksums confirms all additional documents received during\nthe envelope transfer (will be an empty list for new transfers, but may contain items for retries)",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "transportDocumentChecksum": {
                    "description": "TransportDocumentChecksum is the SHA-256 checksum of the transport document (eBL).\nComputed on the canonical form of the JSON.",
                    "type": "string",
                    "example": "583c29ab3e47f2d80899993200d3fbadb9f8a367f3a39f715935c46d7a283006"
                }
            }
        },
        "pint.ErrorCode": {
            "type": "integer",
            "enum": [
                7001,
                7002,
                7003,
                7004,
                7005,
                7006,
                7007,
                7008,
                7009,
                7010,
                7011,
                8001,
                8002,
                8003
            ],
            "x-enum-comments": {
                "ErrCodeInsufficientTrust": "Trust level below minimum required",
                "ErrCodeMalformedRequest": "JSON parsing or encoding failed"
            },
            "x-enum-descriptions": [
                "",
                "",
                "",
                "",
                "",
                "JSON parsing or encoding failed",
                "",
                "",
                "",
                "",
                "",
                "",
                "Trust level below minimum required",
                ""
            ],
            "x-enum-varnames": [
                "ErrCodeBadSignature",
                "ErrCodeBadCertificate",
                "ErrCodeBadChecksum",
                "ErrCodeInvalidEnvelope",
                "ErrCodeInternalError",
                "ErrCodeMalformedRequest",
                "ErrCodeKeyError",
                "ErrCodeRegistryError",
                "ErrCodeRateLimitExceeded",
                "ErrCodeRequestTooLarge",
                "ErrCodeNotFound",
                "ErrCodeUnknownParty",
                "ErrCodeInsufficientTrust",
                "ErrCodeDispute"
            ]
        },
        "pint.ErrorResponse": {
            "type": "object",
            "properties": {
                "errorDateTime": {
                    "description": "The DateTime corresponding to the error occurring",
                    "type": "string"
                },
                "errors": {
                    "description": "An array of errors providing more detail about the root cause",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/pint.DetailedError"
                    }
                },
                "httpMethod": {
                    "description": "The HTTP method used to make the request e.g. GET, POST, etc",
                    "type": "string"
                },
                "providerCorrelationReference": {
                    "description": "A unique identifier to the HTTP request within the scope of the API provider",
                    "type": "string"
                },
                "requestUri": {
                    "description": "The URI that was requested",
                    "type": "string"
                },
                "statusCode": {
                    "description": "The HTTP status code returned",
                    "type": "integer"
                },
                "statusCodeMessage": {
                    "description": "A long description corresponding to the HTTP status code with additional information",
                    "type": "string"
                },
                "statusCodeText": {
                    "description": "A standard short description corresponding to the HTTP status code",
                    "type": "string"
                }
            }
        },
        "pint.ReceiverValidationResponse": {
            "type": "object",
            "properties": {
                "partyName": {
                    "description": "PartyName is the name of the party that was validated",
                    "type": "string",
                    "example": "Globeteam"
                }
            }
        },
        "pint.ResponseCode": {
            "type": "string",
            "enum": [
                "RECE",
                "DUPE",
                "BSIG",
                "BENV",
                "INCD",
                "MDOC",
                "DISE"
            ],
            "x-enum-varnames": [
                "ResponseCodeRECE",
                "ResponseCodeDUPE",
                "ResponseCodeBSIG",
                "ResponseCodeBENV",
                "ResponseCodeINCD",
                "ResponseCodeMDOC",
                "ResponseCodeDISE"
            ]
        },
        "services.PartyIdentifyingCode": {
            "type": "object",
            "properties": {
                "codeListName": {
                    "description": "CodeListName is optional - the name of the code list (e.g., \"DID\", \"LEI\", \"DUNS\")",
                    "type": "string",
                    "example": "DID"
                },
                "codeListProvider": {
                    "description": "CodeListProvider is the provider of the code list (e.g., \"WAVE\", \"CARX\", \"GLEIF\", \"W3C\")",
                    "type": "string",
                    "example": "W3C"
                },
                "partyCode": {
                    "description": "PartyCode is the code to identify the party as provided by the code list provider",
                    "type": "string",
                    "example": "did:web:example.com:party:12345"
                }
            }
        }
    },
    "tags": [
        {
            "description": "PINT API endpoints",
            "name": "PINT"
        },
        {
            "description": "Server API endpoints (jwks, health, readiness, version, etc.)",
            "name": "Common"
        },
        {
            "description": "Manage the adminstration creation of parties (legal entities). These endpoints are unprotected and for use in development and testing only.",
            "name": "Admin"
        }
    ]
}